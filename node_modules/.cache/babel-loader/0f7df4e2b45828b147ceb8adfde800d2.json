{"ast":null,"code":"var _jsxFileName = \"/var/www/React/Cours_react/src/components/Cart.js\",\n    _s = $RefreshSig$();\n\nimport '../styles/Cart.css';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cart({\n  cart,\n  updateCart\n}) {\n  _s();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const total = cart.reduce((acc, plantType) => acc + plantType.amount * plantType.price, 0);\n  useEffect(cart => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n    console.log(localStorage);\n  }, [total]);\n  useEffect(() => {\n    var savecCart = localStorage.getItem('cart');\n    console.log(savecCart);\n  }, []);\n  return isOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lmj-cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"lmj-cart-toggle-button\",\n      onClick: () => setIsOpen(false),\n      children: \"Fermer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this), cart.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Panier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: cart.map(({\n          name,\n          price,\n          amount\n        }, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [name, \" \", price, \"\\u20AC * \", amount]\n        }, `${name}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\" Total : \", total, \"\\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"lmj-cart-toggle-button\",\n        onClick: () => {\n          updateCart([]);\n        },\n        children: \"Vider le panier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Votre panier est vide\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lmj-cart-closed\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"lmj-cart-toggle-button\",\n      onClick: () => setIsOpen(true),\n      children: \"Ouvri le panier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Cart, \"z4/TEfseuHPk8234tSd56RcHb38=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/var/www/React/Cours_react/src/components/Cart.js"],"names":["useState","useEffect","Cart","cart","updateCart","isOpen","setIsOpen","total","reduce","acc","plantType","amount","price","localStorage","setItem","JSON","stringify","console","log","savecCart","getItem","length","map","name","index"],"mappings":";;;AAAA,OAAO,oBAAP;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAmC,OAAnC;;;AAEA,SAASC,IAAT,CAAc;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAd,EAAkC;AAAA;;AAC9B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,KAAD,CAApC;AACA,QAAMO,KAAK,GAAGJ,IAAI,CAACK,MAAL,CAChB,CAACC,GAAD,EAAMC,SAAN,KAAoBD,GAAG,GAAGC,SAAS,CAACC,MAAV,GAAmBD,SAAS,CAACE,KADvC,EAEhB,CAFgB,CAAd;AAKAX,EAAAA,SAAS,CAAEE,IAAD,IAAU;AAChBU,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeb,IAAf,CAA7B;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AACH,GAHQ,EAGN,CAACN,KAAD,CAHM,CAAT;AAKAN,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIkB,SAAS,GAAGN,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAhB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AACH,GAHQ,EAGP,EAHO,CAAT;AAKA,SAAQd,MAAM,gBACV;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACI;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,MAAIC,SAAS,CAAC,KAAD,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKH,IAAI,CAACkB,MAAL,GAAc,CAAd,gBACG;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kBACKlB,IAAI,CAACmB,GAAL,CAAS,CAAC;AAACC,UAAAA,IAAD;AAAOX,UAAAA,KAAP;AAAcD,UAAAA;AAAd,SAAD,EAAwBa,KAAxB,kBACN;AAAA,qBACKD,IADL,OACYX,KADZ,eACuBD,MADvB;AAAA,WAAW,GAAEY,IAAK,IAAGC,KAAM,EAA3B;AAAA;AAAA;AAAA;AAAA,gBADH;AADL;AAAA;AAAA;AAAA;AAAA,cAFJ,eASI;AAAA,gCAAcjB,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,eAUI;AAAQ,QAAA,SAAS,EAAC,wBAAlB;AAA2C,QAAA,OAAO,EAAE,MAAI;AAACH,UAAAA,UAAU,CAAC,EAAD,CAAV;AAAe,SAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,gBAcG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAhBR;AAAA;AAAA;AAAA;AAAA;AAAA,UADU,gBAqBN;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,2BACI;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAA2C,MAAA,OAAO,EAAE,MAAIE,SAAS,CAAC,IAAD,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UArBR;AA0BC;;GA3CIJ,I;;KAAAA,I;AA6CT,eAAeA,IAAf","sourcesContent":["import '../styles/Cart.css'\nimport { useState, useEffect} from 'react'\n\nfunction Cart({cart, updateCart}) {    \n    const [isOpen, setIsOpen] = useState(false)\n    const total = cart.reduce(\n\t\t(acc, plantType) => acc + plantType.amount * plantType.price,\n\t\t0\n\t)\n\n    useEffect((cart) => {        \n        localStorage.setItem('cart', JSON.stringify(cart))\n        console.log(localStorage);\n    }, [total])\n\n    useEffect(() => {\n        var savecCart = localStorage.getItem('cart')\n        console.log(savecCart);\n    },[])\n    \n    return (isOpen ? (\n        <div className=\"lmj-cart\">\n            <button className=\"lmj-cart-toggle-button\" onClick={()=>setIsOpen(false)}>Fermer</button>\n            {cart.length > 0 ? (\n                <div>\n                    <h2>Panier</h2>           \n                    <ul>\n                        {cart.map(({name, price, amount}, index )=>(\n                            <div key={`${name}-${index}`}>                                \n                                {name} {price}€ * {amount}\n                            </div>\n                        ))}\n                    </ul>\n                    <h3> Total : {total}€</h3>\n                    <button className=\"lmj-cart-toggle-button\" onClick={()=>{updateCart([])}}>Vider le panier</button>\n                </div>\n            ) : (\n                <div>Votre panier est vide</div>\n            )}            \n        </div>\n        ) : (\n            <div className=\"lmj-cart-closed\">\n                <button className=\"lmj-cart-toggle-button\" onClick={()=>setIsOpen(true)}>Ouvri le panier</button>\n            </div>\n        )        \n        )\n    }\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}